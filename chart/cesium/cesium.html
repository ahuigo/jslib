<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <script src="https://cesiumjs.org/releases/1.61/Build/Cesium/Cesium.js"></script>
  <link href="https://cesiumjs.org/releases/1.61/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
</head>
<body>

    <textarea id="code" rows="20" cols="150" oninput="exec(this)"></textarea>
    <input type="checkbox" id="run" onchange="exec(code)" checked=""/>
    <div id="cesiumContainer" style="width: 1000px; height:700px"></div>
  <script>
      function loadJs(src){
          if(!src) return
          console.log(src)
          var script = document.createElement('script')
          script.src=src;
          document.body.appendChild(script)
      }
    Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmM2JkZGI3Mi02ZDZkLTQ3Y2UtODk4OC0xMTQ0YjJmMTg5YTciLCJpZCI6MTU1MTcsInNjb3BlcyI6WyJhc2wiLCJhc3IiLCJhc3ciLCJnYyJdLCJpYXQiOjE1NjgxMTg1ODN9.8NwS-ZfPFGPAZm_S-Z-UGDIhaHIvYAH4IsvOH3BIh1Y';

    var viewer = new Cesium.Viewer('cesiumContainer');
    var hash = location.hash.slice(1)
    var camera = viewer.camera
    loadJs(hash)
    window.addEventListener('popstate', function(e) {     
        var hash = location.hash.slice(1)
        loadJs(hash)
 　　});
    document.addEventListener('keydown', e=>{
        if(e.metaKey && e.key==='Enter'){
            eval(code.value)
        }
    })
    function exec(ele){
        // if(run.checked){
        //     eval(ele.value)
        // }
    }
    
  </script>
</body>
</html> 
